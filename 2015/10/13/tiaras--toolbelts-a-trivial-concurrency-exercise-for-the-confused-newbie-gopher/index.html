<!DOCTYPE html>
<html xmlns="//www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
    <head>
        <meta http-equiv="content-type" content="text/html; charset=utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />

        <title>Tiaras &amp; Toolbelts: A Trivial Concurrency Exercise for the Confused Newbie Gopher &middot; Whipperstacker</title>
        <link rel='stylesheet' href='//fonts.googleapis.com/css?family=Open+Sans:400,300,600' type='text/css'>
        <link rel="stylesheet" href="http://whipperstacker.com/libraries/normalize.3.0.1.css" />
        <link rel="stylesheet" href="http://whipperstacker.com/css/whipperstacker.css" />
        <link rel="shortcut icon" href="/favicon.ico" />
        <link rel="apple-touch-icon-precomposed" href="/apple-touch-icon-144-precomposed.png" sizes="144x144" />
        <link rel="alternate" href="" type="application/rss+xml" title="Whipperstacker" />
    </head>
    <body class="li-body">

<header class="li-page-header">
    <div class="container">
        <div class="row">
            <div class="sixteen columns">
                <div class="li-brand li-left">
                <a href="http://whipperstacker.com/">Whipperstacker</a></div>
                <div class="li-menu li-right">
                    <span class="li-menu-icon" onclick="javascript:toggle('menu');">&#9776;</span>
                    <ul id="menu2" class="li-menu-items">
                        
                            <li><a href="/post/"> Archives </a></li>
                        
                    </ul>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="sixteen columns">
                <ul id="menu" class="li-menu-items li-menu-mobile">
                    
                        <li><a href="/post/"> Archives </a></li>
                    
                </ul>
            </div>
        </div>
    </div>
</header>






    <div class="container">
        <div class="row">
            <div class="sixteen columns">
                <article class="li-article">
                    <header class="li-article-header">
                        <h1 class="li-article-title">Tiaras &amp; Toolbelts: A Trivial Concurrency Exercise for the Confused Newbie Gopher</h1>
                        <span class="li-article-taxonomies">
                            
                                Posted in
                                
                                    <a href="http://whipperstacker.com//categories/exercises">exercises</a>
                                
                            

                            
                                with tags
                                
                                    <a href="http://whipperstacker.com//tags/concurrency">concurrency</a>
                                
                            
                        </span>
                         - 
                        <time class="li-article-date">Tuesday, October 13, 2015</time>
                    </header>
                    <section>
                        

<p>Sometimes you wonder if the program is mocking you.</p>

<p>&gt; all goroutines are asleep</p>

<p>Asleep. That sounds wonderful. Instead, here you are wondering whether deadlock would make a good bandname, and if you have any ketchup and mayonnaise left so you can make goopy red ramen noodles. Oh, yeah. And wondering why your app is hanging.</p>

<p>Perhaps all you need is a good night&rsquo;s sleep and a decent meal, and you&rsquo;ll find the unclosed channel or the <code>WaitGroup</code> that is missing a call to <code>Done()</code>, or whatever it is this time that has you perplexed and frustrated.</p>

<p>Or, maybe, you just need a break from name servers and other computer-science-y things so you can think about concurrency in the context of toys.</p>

<h2 id="santa-s-workers:fb2b314049b270b14ac9ea08c88a9d93">Santa&rsquo;s Workers</h2>

<p>Kraneisha is 4 years old. This year she has asked Santa for a tiara and a toolbelt so that she can be a princess mechanic.</p>

<p>She is one of about a million children who have asked for stuff. Things. Toys. Electronics. Blinky lights and obnoxious noisemakers.</p>

<p>The Elf typing pool has been normalizing requests into a text file:</p>

<pre><code>Kraneisha, 4, Tiara and toolbelt
Eddie, 8, Chemistry set
Ty, 5, Gaming console
...
</code></pre>

<p><strong>Write a program to simulate Santa&rsquo;s workshop</strong>, where a single stream of requests gets portioned out to 1,000 elves to produce the gifts. Each completed gift is then shunted to the Wrapping Station, where they are packaged up and added to the sleigh.</p>

<p>Once all one million gifts wrapped and stowed, the sleigh can take off.</p>

<p>Don&rsquo;t worry about the mechanics of fitting one million gift-wrapped toys onto a sleigh. I&rsquo;m pretty sure there&rsquo;s magic involved.</p>

                    </section>
                </article>

                <section class="subscribe">
  <div>
    <p>You should subscribe to my mailing list.</p>
    <form id="subscribe-form" method="post" action="https://tinyletter.com/whipperstacker">
      <label for="email" class="sr-only">Email</label>
      <input type="email" id="email" name="email" value="" placeholder=" email@example.com ">
      <button class="button" type="submit">Subscribe</button>
    </form>
  </div>
</section>


            </div>
        </div>

        <div class="row li-pagination">
            <div class="eight columns">
                <div class="li-pagination-previous">
                    
                        Later article<br />
                        <a href="http://whipperstacker.com/2015/10/14/idiomatic-doc-comments-document-your-function-not-your-function-signature"> Idiomatic Doc Comments: Document Your Function, Not Your Function Signature</a>
                    
                </div>
            </div>
            <div class="eight columns">
                <div class="li-pagination-next">
                    
                        Older article<br />
                        <a href="http://whipperstacker.com/2015/10/11/decoding-a-file-full-of-individual-json-objects-using-a-json.decoder"> Decoding a File Full of Individual JSON Objects using a json.Decoder</a>
                    
                </div>
            </div>
        </div>
    </div>

<footer class="li-page-footer">
    <div class="container">
        <div class="row">
            <div class="sixteen columns">
                <div class="li-page-footer-legal">
                  &copy; 2015 Katrina Owen. All rights reserved.
                </div>
            </div>
        </div>
    </div>
</footer>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
     (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
       m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
         })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-70403679-1', 'auto');
  ga('send', 'pageview');
</script>

    <script type="text/javascript">
    <!--
    function toggle(id) {
        var e = document.getElementById(id);
        e.style.display == 'block' ? e.style.display = 'none' : e.style.display = 'block';
    }
    
    </script>
    <script type="text/javascript">
    <!--
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', ""]);
        _gaq.push(['_trackPageview']);

        (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    -->
    </script>
    </body>
</html>

